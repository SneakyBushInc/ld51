[Monster@Character]
Group           = monster
Pivot           = bottom truncate
ObjectHSL       = (0.7, 0.7, 0.7) ~ (1, 1, 1)
OnCreate        = > Object.GetName ^, > Get < ObjectHSL, Object.SetHSL ^ <
SphericalPosition= (400, 0) ~ (1000, 360)
TargetHysteresis= % >> Get Character Scale, > * < <, * < 4096
SelfFlags       = monster
CheckMask       = attack # character

[MonsterSpawners@Object]
OnCreate        = Set Game MonsterSpawners ^
ChildList       = GruntSpawner # EliteSpawner

[MonsterSpawner@Object]
OnPrepare       = > @, > Config.GetRawValue < DefaultWaveSize, > @, Set < WaveSize <
Spawner         = @
WaveDelay       = 10
Immediate       = true

[MonsterTrack]
Loop            = true


; === Grunt ===

[Grunt@Monster]
Class           = Grunt
TopLeft         = (-7, -19)
BottomRight     = (7, -5)
RunSpeed        = 100
Damage          = 20
Texture         = enemy/monster.png

[GruntDeath1]
KeyEvent        = Object.SetGroup ^ dead

[GruntRun2]
KeyEvent        =

[GruntRun4]
KeyEvent        =

[GruntSpawner@MonsterSpawner]
Object          = Grunt
DefaultWaveSize = 4 ~ 4
TrackList       = GruntTrack

[GruntTrack@MonsterTrack]
1               = > Get GruntSpawner WaveSize, > Get Scene GruntIncrease, > * < <, Set GruntSpawner WaveSize <
10              = return false


; === Elite ===

[Elite@Monster]
Class           = Elite
Scale           = 5
TopLeft         = (-10, -20)
BottomRight     = (10, -2)
RunSpeed        = 50
Damage          = 50
Health          = 400
Texture         = enemy/monster-elite.png

[EliteDeath1]
KeyEvent        = Object.SetGroup ^ dead, Object.Create EliteDeathSFX

[EliteRun2]
KeyEvent        =

[EliteRun4]
KeyEvent        =

[EliteSpawner@MonsterSpawner]
Immediate       = false
WaveDelay       = 10
Object          = Elite
DefaultWaveSize = 1 ~ 1
TrackList       = EliteTrack

[EliteTrack@MonsterTrack]
1               = > Get EliteSpawner WaveSize, > Get Scene EliteIncrease, > + < <, Set EliteSpawner WaveSize <
20              = return false
